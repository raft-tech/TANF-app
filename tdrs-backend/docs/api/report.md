# Report metadata

Accepts S3 slugs and maintains every prior version of the file. The slug is a UUID generated by the frontend and will be used as the filename in S3. This way we don't need to worry about multiple files with the same name. The system will store the original filename, so that we may present this to the user, while we store them using the slug.


**Request**:

`POST` `/v1/reports/`

Parameters:
```json
{
    "original_filename":"filename",
    "slug":"f6ccc39e-7d1a-11eb-9439-0242ac130002",
    "extension":"txt",
    "user":"ee3c5c3a-7d15-11eb-9439-0242ac130002",
    "stt":15,
    "year": 2020,
    "quarter":"Q1",
    "section":"Active Case Data",
}

```

`original_filename`: Name of the file before it was uploaded to S3
`slug`: UUID generated by the frontend and used as the filename in S3
`extension` (optional): file extension, e.g., "txt"
`user`: The user's ID, which is also a UUID
`stt`: The STT id
`year`: The year for the report
`quarter`: Quarter for the report
`section`: The type of report, e.g. "Active Case Data". There are 4 options, also including "Close Case Data", "Aggregate Data" and "Stratum Data"

*Note:*

- Authorization Protected 
- Only OFA admin and OFA analyst roles can access this end point.

**Response**:

```json
Content-Type application/json
200 Ok

{

            "original_filename":"filename", 
            "slug":"hdslajhfdaksdjflajlsdfa",
            "extension":"txt",
            "user":"lnsdfkldlkajdfa",
            "stt":15 
            "year": 2020,
            "quarter":"Q1", 
            "section":"Active Case Data", 
            "version":2
}
```

This will return a JSON response with the report file meta data composed of the following:
+ original_filename : Name of the file before being uploaded
+ slug : String identifying the file in s3
+ extension : The files extension, if none is provided or the file has no extension, we assume text
+ user : A UUID Identifying the user who uploaded this file.
+ stt : A numeric ID representing the STT this report is for
+ year : The year this is a report for
+ quarter : The quarter this is a report for as "Q1", etc
+ section : The section of the report this file is a part of.
+ version : the version of this file

----
